$TTL 2d

$ORIGIN {{ domain }}.

@               IN      SOA     ns.{{ domain }}.   info.{{ domain }}. (
                                2024112601          ; serial
                                12h                 ; refresh
                                15m                 ; retry
                                3w                  ; expire
                                2h                  ; minimum ttl
                                )

                IN      NS      ns.{{ domain }}.

{% for item in containers %}
{% if item.ns_name == 'ns' %}
{{ item.ns_name }}            IN      A       {{ item.ansible_host }}
{% endif %}
{% endfor %}

; -- hosts

{% for item in servers %}
{{ item.ns_name }}            IN      A       {{ item.ansible_host }}
{% endfor %}

; -- containers

{% for item in containers %}
{% if item.ns_name != 'ns' %}
{{ item.ns_name }}            IN      A       {{ item.ansible_host }}
{% endif %}
{% endfor %}
